<!DOCTYPE html>
<header></header>

<body>
  <h1>Pendue</h1>
  <canvas id="pendue" width="200" height="100" style="border:1px solid #000000;"></canvas>
  <div id="hint">________</div>
  <form>
    <input type="text" id="text" value="" />
    <button id="valide" type="button">valide</button>
    <div id="result"></div>
  </form>
  <script type="text/javascript">
    var replaceCharater = function (word, propositions) {
      temp = "";
      [...word].forEach((c) => {
        if (propositions.indexOf(c) != -1) {
          temp += c + " ";
        } else {
          temp += "_ ";
        }
      });
      return temp;
    };
    function getRandomInt(max) {
      return Math.floor(Math.random() * max);
    }
    document.addEventListener("DOMContentLoaded", function (event) {
      var listWords = [
        "hello",
        "mamman",
        "maison",
        "voiture",
        "lampe",
        "ordinateur",
        "livre",
      ];
      var secret = ""
      var guesses = [];
      var tryLeft = 8;
      var partial = "";
      var  reset = function() {
        guesses = []
        tryLeft = 0
        secret = listWords[getRandomInt(listWords.length)];
        document.getElementById("hint").innerHTML = secret.replace(/./g, "_ ");;
      }
      reset();
      var c = document.getElementById("pendue");
      var ctx = c.getContext("2d");
      vzzr drawIt = [
        function() {
          ctx.moveTo(50, 90);
          ctx.lineTo(70, 90);
          ctx.stroke()
        },
        function() {
          ctx.moveTo(60, 90);
      ctx.lineTo(60, 20);
      ctx.stroke();
        },
        function() {
          ctx.moveTo(50, 90);
      ctx.lineTo(70, 90);
          ctx.stroke()
        },
        function() {
          ctx.moveTo(60, 20);
      ctx.lineTo(90, 20);
        },
        function() {
          ctx.moveTo(90, 20);
      ctx.lineTo(90, 30);
      ctx.stroke()
        },
        function() {
          ctx.beginPath();
      ctx.arc(90, 37, 7, 0, 2 * Math.PI);
      ctx.stroke();
        },
        function() {
          ctx.moveTo(90, 42);
      ctx.lineTo(90, 62);
      ctx.stroke()
        },
        function() {
          ctx.moveTo(90, 62);
      ctx.lineTo(80, 82);
      ctx.stroke()
        },
        function() {
          ctx.moveTo(90, 62);
      ctx.lineTo(100, 82);
        },
function() {
  ctx.moveTo(90, 62);
      ctx.lineTo(100, 82);
},
function() {
  ctx.moveTo(90, 42);
      ctx.lineTo(100, 62);
}
      ]




      

      
     
      
      ctx.moveTo(90, 42);
      ctx.lineTo(80, 62);
      ctx.stroke();
      document
        .getElementById("valide")
        .addEventListener("click", function (event) {
          var input = document.getElementById("text").value;
          if (input.length === 1) {
            guesses.push(input.toUpperCase());
            if (secret.includes(input)) {
              document.getElementById("result").innerHTML = "Bien joué";
            } else {
              tryLeft -= 1;
              document.getElementById("result").innerHTML =
                "Mauvais proposition : " +
                input +
                ", il vous reste " +
                tryLeft +
                " proposition(s).";
            }
            document.getElementById("hint").innerHTML = replaceCharater(secret.toUpperCase(), guesses);;
            document.getElementById("text").value = "";
          } else {
            if (secret === input) {
              document.getElementById("result").innerHTML = "BRAVO";
              document.getElementById("hint").innerHTML = seccret;
            } else {
              tryLeft -= 1;
              if (tryLeft > 0) {
                document.getElementById("result").innerHTML =
                  "Mauvaise réponse" +
                  ", il vous reste " +
                  tryLeft +
                  " proposition(s).";
              } else {
                document.getElementById("result").innerHTML =
                  "Vous avez perdut";
              }
            }
          }
        });
    });
  </script>
</body>
